(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{148:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(15),o=a.n(c),s=(a(148),a(7)),r=a(16),l=a(13),d=a(14),j=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(d.a)(Object(d.a)({},e),{},{Followers:t.payload.Followers,Following:t.payload.Following}):"BOOKMARK"===t.type?Object(d.a)(Object(d.a)({},e),{},{Bookmarks:t.payload.Bookmarks}):e},b=a(9),u=a(11),m=a.n(u),p=a(227),h=a(182),x=a(230),O=a(232),g=a(231),f=a(266),v=a(225),y=a(233),k=a(234),N=a(229),w=a(40),C=a(265),S=a(228),I=a(122),_=a(235),B=a(236),T=a(261),P=a(112),L=a.n(P),F=a(81),E=a.n(F),R=a(91),W=a.n(R),A=a(92),M=a.n(A),D=a(111),U=a.n(D),q=a(93),G=a.n(q),z=a(94),H=a.n(z),K=a(1),J=Object(v.a)((function(e){var t,a,n;return{root:{width:"100%"},inline:{display:"inline"},grow:{flexGrow:1},title:(t={display:"none"},Object(b.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(b.a)(t,"fontFamily","Grand Hotel, cursive"),Object(b.a)(t,"color","rgba(0, 0, 0, 0.54)"),t),search:(a={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"rgba(0, 0, 0, 0.075)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},marginRight:e.spacing(2),marginLeft:0,width:"100%"},Object(b.a)(a,e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),Object(b.a)(a,"margin","0px auto"),a),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)"},inputRoot:{color:"inherit"},inputInput:(n={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(b.a)(n,e.breakpoints.up("sm"),{width:"30ch"}),Object(b.a)(n,"color","#000000"),n),sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"1px solid rgba(0, 0, 0, 0.015)",boxShadow:e.shadows[4],padding:e.spacing(2,4,3),borderRadius:"10px","&:focus":{border:"1px solid rgba(0, 0, 0, 0.015)"}},links:{textDecoration:"none"}}})),V=function(e){var t=Object(n.useContext)(Pt),a=t.state,c=t.dispatch,o=Object(r.f)(),d=Object(n.useState)([]),j=Object(s.a)(d,2),b=j[0],u=j[1],v=J(),P=Object(n.useState)(null),F=Object(s.a)(P,2),R=F[0],A=F[1],D=Boolean(R),q=Object(n.useState)((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),border:"1px solid rgba(0, 0, 0, 0.015)"}})),z=Object(s.a)(q,1)[0],V=Object(n.useState)(!1),Z=Object(s.a)(V,2),Y=Z[0],$=Z[1],Q=function(){ee(),$(!0)},X=function(){$(!1)},ee=function(){A(null)},te=function(){localStorage.clear(),c({type:"CLEAR"}),o.push("/login")},ae="primary-search-account-menu-mobile",ne=Object(K.jsxs)(I.a,{anchorEl:R,anchorOrigin:{vertical:"bottom",horizontal:"left"},id:ae,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:ee,children:[Object(K.jsxs)(S.a,{onClick:Q,children:[Object(K.jsx)(N.a,{children:Object(K.jsx)(E.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)("p",{children:"Search"})]}),Object(K.jsxs)(S.a,{component:l.b,to:"/explore",children:[Object(K.jsx)(N.a,{children:Object(K.jsx)(W.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)("p",{children:"Explore"})]}),Object(K.jsxs)(S.a,{component:l.b,to:"/create",children:[Object(K.jsx)(N.a,{children:Object(K.jsx)(M.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)("p",{children:"Add Post"})]}),Object(K.jsxs)(S.a,{component:l.b,to:"/profile",children:[Object(K.jsx)(N.a,{children:Object(K.jsx)(G.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)("p",{children:"Profile"})]}),Object(K.jsxs)(S.a,{onClick:te,children:[Object(K.jsx)(N.a,{children:Object(K.jsx)(H.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)("p",{children:"LogOut"})]})]}),ie=Object(K.jsxs)("div",{style:z,className:v.paper,children:[Object(K.jsxs)("div",{className:v.search,style:{margin:"0px auto"},children:[Object(K.jsx)("div",{className:v.searchIcon,children:Object(K.jsx)(E.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(C.a,{placeholder:" Search\u2026",classes:{root:v.inputRoot,input:v.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return function(e){if(""!==e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}};m.a.post("http://localhost:5000/users-research",{pattern:e},t).then((function(e){u(e.data)}))}}(e.target.value)}})]}),Object(K.jsx)(p.a,{className:v.root,children:b.user?b.user.map((function(e){return Object(K.jsxs)(l.b,{className:v.links,to:e._id!==a._id?"/profile/".concat(e._id):"/profile",onClick:X,children:[Object(K.jsx)(x.a,{variant:"inset",component:"li",style:{marginLeft:"0px"}}),Object(K.jsxs)(h.a,{alignItems:"flex-start",children:[Object(K.jsx)(g.a,{children:Object(K.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(K.jsx)(O.a,{primary:e.Name,secondary:Object(K.jsx)(i.a.Fragment,{children:e.Email})})]})]},e._id)})):null})]});return Object(K.jsxs)("nav",{children:[Object(K.jsxs)("div",{className:v.grow,children:[Object(K.jsx)(y.a,{position:"static",style:{backgroundColor:"#ffffff"},children:Object(K.jsxs)(k.a,{children:[Object(K.jsx)(l.b,{to:a?"/":"/login",className:v.links,children:Object(K.jsx)(w.a,{className:v.title,variant:"h4",noWrap:!0,children:"Kalyan Somalaraju"})}),Object(K.jsx)("div",{className:v.grow}),Object(K.jsx)("div",{className:v.sectionDesktop,children:Object(K.jsxs)(_.a,{value:e.nav,children:[Object(K.jsx)(B.a,{label:"Search",value:"search",onClick:Q,style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(K.jsx)(E.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(B.a,{label:"Home",value:"home",component:l.b,to:"/",style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(K.jsx)(U.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(B.a,{label:"Explore",value:"explore",component:l.b,to:"/explore",style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(K.jsx)(W.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(B.a,{label:"Add Post",value:"add post",component:l.b,to:"/create",style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(K.jsx)(M.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(B.a,{label:"Profile",value:"profile",component:l.b,to:"/profile",style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(K.jsx)(G.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(K.jsx)(B.a,{label:"Logout",style:{color:"rgba(0, 0, 0, 0.54)"},value:"logout",onClick:te,icon:Object(K.jsx)(H.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})]})}),Object(K.jsx)("div",{className:v.sectionMobile,children:Object(K.jsx)(N.a,{"aria-label":"show more","aria-controls":ae,"aria-haspopup":"true",onClick:function(e){A(e.currentTarget)},color:"inherit",children:Object(K.jsx)(L.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})})]})}),ne]}),Object(K.jsx)(T.a,{open:Y,onClose:X,children:ie})]})},Z={headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}},Y=a(237),$=a(238),Q=a(239),X=a(241),ee=a(240),te=a(259),ae=a(76),ne=a.n(ae),ie=a(77),ce=a.n(ie),oe=a(78),se=a.n(oe),re=a(80),le=a.n(re),de=a(79),je=a.n(de),be=a(113),ue=a.n(be),me=a(114),pe=a.n(me),he=Object(v.a)((function(e){return{root:{maxWidth:500,margin:"20px auto","& .MuiTextField-root":{width:"100%"},"& .MuiOutlinedInput-multiline":{paddingTop:"8px",paddingBottom:"8px",marginTop:"5px",marginLeft:"5px",marginRight:"5px"},"& .MuiCardContent-root:last-child":{paddingBottom:"10px"},"& .MuiDivider-middle":{marginBottom:"4px"},"& .MuiListItem-root":{padding:"0px 16px"},"& .MuiCardContent-root":{paddingTop:"0px",paddingBottom:"5px"},"& .MuiIconButton-root:focus":{backgroundColor:"rgba(0, 0, 0, 0)"}},header:{padding:"10px"},media:{paddingTop:"56.25%",height:"max-content"},likeBar:{height:"25px",paddingTop:"0px",marginTop:"8px",marginLeft:"2px",paddingLeft:"0px",paddingBottom:"4px"},comments:{display:"flex",paddingTop:"0px",paddingLeft:"12px",paddingRight:"0px"},comment_item_see_more:{width:"35%",cursor:"pointer"},comments_icon_see_more:{height:"17px",width:"17px",paddingTop:"4px",paddingBottom:"3px"},comments_icon:{height:"30px",paddingLeft:"0px",paddingTop:"13px",paddingRight:"8px",paddingBottom:"0px"},inline:{display:"inline",fontWeight:"600"},avatar:{height:"40px"},links:{textDecoration:"none"}}})),xe=function(){var e=he(),t=Object(n.useContext)(Pt),a=t.state,c=t.dispatch,o=Object(n.useState)([]),r=Object(s.a)(o,2),d=r[0],j=r[1],b=Object(n.useState)(!1),u=Object(s.a)(b,2),g=u[0],v=u[1],y=Object(n.useState)(""),k=Object(s.a)(y,2),C=k[0],S=k[1];Object(n.useEffect)((function(){console.log(Z),m.a.get("http://localhost:5000/allpost",Z).then((function(e){j(e.data.posts)}))}),[]);return d.map((function(t){return Object(K.jsx)("div",{className:"home",children:Object(K.jsxs)(Y.a,{className:e.root,children:[Object(K.jsx)($.a,{className:e.header,avatar:Object(K.jsx)(f.a,{children:Object(K.jsx)("img",{className:e.avatar,alt:"",src:"data:".concat(t.PhotoType,";base64,").concat(t.Photo)})}),title:Object(K.jsx)(l.b,{className:e.links,to:t.PostedBy._id!==a._id?"/profile/".concat(t.PostedBy._id):"/profile",children:t.PostedBy.Name}),subheader:"September 14, 2016"}),Object(K.jsx)(Q.a,{className:e.media,image:"data:".concat(t.PhotoType,";base64,").concat(t.Photo),title:"Paella dish"}),Object(K.jsxs)(ee.a,{className:e.likeBar,disableSpacing:!0,children:[t.Likes.includes(a._id)?Object(K.jsx)(N.a,{"aria-label":"Like",color:"secondary",onClick:function(){var e;e=t._id,m.a.put("http://localhost:5000/Unlike",{postId:e},Z).then((function(e){var t=d.map((function(t){return e.data._id===t._id?e.data:t}));j(t)})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(ne.a,{})}):Object(K.jsx)(N.a,{"aria-label":"Like",onClick:function(){var e;e=t._id,m.a.put("http://localhost:5000/like",{postId:e},Z).then((function(e){var t=d.map((function(t){return e.data._id===t._id?e.data:t}));j(t)})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(ce.a,{})}),Object(K.jsx)(N.a,{"aria-label":"comments",children:Object(K.jsx)(se.a,{})}),a.Bookmarks.includes(t._id)?Object(K.jsx)(N.a,{"aria-label":"Remove Bookmark",style:{marginLeft:"auto",color:"#e0d011"},onClick:function(){var e;e=t._id,m.a.put("http://localhost:5000/remove-bookmark",{postId:e},Z).then((function(e){c({type:"BOOKMARK",payload:{Bookmarks:e.data.Bookmarks}}),localStorage.setItem("user",JSON.stringify(e.data))})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(ue.a,{})}):Object(K.jsx)(N.a,{"aria-label":"Bookmark",style:{marginLeft:"auto"},onClick:function(){var e;e=t._id,m.a.put("http://localhost:5000/bookmark-post",{postId:e},Z).then((function(e){c({type:"BOOKMARK",payload:{Bookmarks:e.data.Bookmarks}}),localStorage.setItem("user",JSON.stringify(e.data))})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(pe.a,{})})]}),Object(K.jsxs)(X.a,{children:[Object(K.jsxs)(w.a,{variant:"subtitle2",display:"block",gutterBottom:!0,children:[t.Likes.length," Likes"]}),Object(K.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:t.Body})]}),Object(K.jsx)(x.a,{variant:"middle"}),Object(K.jsxs)(p.a,{children:[t.Comments.map((function(t){return Object(K.jsx)(h.a,{className:e.comment_item,alignItems:"flex-start",children:Object(K.jsx)(O.a,{secondary:Object(K.jsxs)(i.a.Fragment,{children:[Object(K.jsx)(w.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:Object(K.jsx)(l.b,{className:e.links,to:t.PostedBy._id!==a._id?"/profile/".concat(t.PostedBy._id):"/profile",children:t.PostedBy.Name})})," \u2014 ",t.Text]})})},t._id)})),0===t.Comments.length?Object(K.jsx)(h.a,{alignItems:"flex-start",style:{left:"38%"},children:Object(K.jsx)(w.a,{variant:"caption",display:"block",gutterBottom:!0,children:"No Comments yet"})}):null,t.Comments.length>3&&0!==t.Comments.length?Object(K.jsxs)(h.a,{alignItems:"flex-start",className:e.comment_item_see_more,children:[Object(K.jsxs)(w.a,{variant:"caption",display:"block",gutterBottom:!0,children:["See all ",t.Comments.length," comments"]}),Object(K.jsx)(je.a,{className:e.comments_icon_see_more})]}):null]}),Object(K.jsx)(x.a,{variant:"middle"}),Object(K.jsxs)(X.a,{className:e.comments,children:[Object(K.jsx)(f.a,{children:Object(K.jsx)("img",{className:e.avatar,alt:"",src:"https://images.unsplash.com/photo-1537815749002-de6a533c64db?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"})}),Object(K.jsx)(te.a,{multiline:!0,rows:1,placeholder:"Add your comment...",variant:"outlined",value:C,onChange:function(e){e.preventDefault(),S(e.target.value),v(!0),""===e.target.value&&v(!1)}}),Object(K.jsx)(N.a,{"aria-label":"add to favorites",className:e.comments_icon,disabled:!g,onClick:function(){return e=C,a=t._id,S(""),m.a.put("http://localhost:5000/comment",{text:e,postId:a},Z).then((function(e){var t=d.map((function(t){return e.data._id===t._id?e.data:t}));j(t)})).catch((function(e){return console.log(e)})),void S("");var e,a},children:Object(K.jsx)(le.a,{})})]})]})},t._id)}))},Oe=a(246),ge=a(244),fe=a(245),ve=a(263),ye=a(242),ke=a(258),Ne=a(243),we=a(262),Ce=Object(v.a)((function(e){return{Logo:{fontFamily:"Grand Hotel, cursive",margin:"40px 0px"},paper:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"},image:{backgroundSize:"cover",backgroundColor:"#fafafa",backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundPosition:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Se=function(){var e=Object(n.useContext)(Pt).dispatch,t=Object(r.f)(),a=Ce(),i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],d=c[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),u=b[0],p=b[1],h=Object(n.useState)(!1),x=Object(s.a)(h,2),O=x[0],g=x[1],f=Object(n.useState)(!1),v=Object(s.a)(f,2),y=v[0],k=v[1];return Object(K.jsxs)(ye.a,{container:!0,children:[Object(K.jsx)(ye.a,{className:a.image,item:!0,sm:4,md:6}),Object(K.jsx)(ye.a,{item:!0,xs:12,sm:8,md:6,children:Object(K.jsxs)(Ne.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"64px"},children:[Object(K.jsx)(ge.a,{}),Object(K.jsxs)("div",{className:a.paper,children:[Object(K.jsx)(w.a,{className:a.Logo,variant:"h2",gutterBottom:!0,style:{fontFamily:"Grand Hotel, cursive "},children:"Kalyan Somalaraju"}),O?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,y?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Invalid given Email/Password \u2014 check it out!"}):null,Object(K.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(K.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){d(e.target.value)}}),Object(K.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return p(e.target.value)}}),Object(K.jsx)(fe.a,{control:Object(K.jsx)(ve.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(K.jsx)(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:""===o||""===u,onClick:function(){/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)?m.a.post("http://localhost:5000/signin",{password:u,email:o}).then((function(a){var n=a.data;n.error?(g(!1),k(!0)):(localStorage.setItem("jwt",n.token),localStorage.setItem("user",JSON.stringify(n.user)),e({type:"USER",payload:n.user}),t.push("/"))})).catch((function(e){console.log(e)})):(k(!1),g(!0))},children:"Sign In"}),Object(K.jsxs)(ye.a,{container:!0,children:[Object(K.jsx)(ye.a,{item:!0,xs:!0,children:Object(K.jsx)(l.b,{to:"/reset",children:"Forgot password?"})}),Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsx)(l.b,{to:"/signup",children:"Don't have an account? Sign Up"})})]})]})]}),Object(K.jsx)(ke.a,{mt:8})]})})]})},Ie=Object(v.a)((function(e){return{Logo:{fontFamily:"Grand Hotel, cursive",marginBottom:"42px",width:"fit-content",margin:"0px auto",marginTop:"40px"},paper:{marginTop:"10px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),_e=function(){var e=Object(r.f)(),t=Ie(),a=Object(n.useState)(""),i=Object(s.a)(a,2),c=i[0],o=i[1],d=Object(n.useState)(""),j=Object(s.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),x=h[0],O=h[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),v=f[0],y=f[1],k=Object(n.useState)(!1),N=Object(s.a)(k,2),C=N[0],S=N[1],I=Object(n.useState)(!1),_=Object(s.a)(I,2),B=_[0],T=_[1],P=Object(n.useRef)();Object(n.useEffect)((function(){return function(){clearTimeout(P.current)}}),[]);return Object(K.jsxs)(Ne.a,{component:"main",maxWidth:"xs",children:[Object(K.jsx)(ge.a,{}),Object(K.jsx)(w.a,{className:t.Logo,variant:"h2",children:"Kalyan Somalaraju"}),v?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,C?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"This Email is already token \u2014 check it out!"}):null,B?Object(K.jsx)(we.a,{variant:"outlined",severity:"success",children:"Your account has been created successfully \u2014 check it out!"}):null,Object(K.jsx)("div",{className:t.paper,children:Object(K.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(K.jsxs)(ye.a,{container:!0,spacing:2,children:[Object(K.jsx)(ye.a,{item:!0,xs:12,children:Object(K.jsx)(te.a,{autoComplete:"UserName",name:"UserName",variant:"outlined",required:!0,fullWidth:!0,label:"UserName",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})}),Object(K.jsx)(ye.a,{item:!0,xs:12,children:Object(K.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",value:x,onChange:function(e){return O(e.target.value)}})}),Object(K.jsx)(ye.a,{item:!0,xs:12,children:Object(K.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",value:b,onChange:function(e){return u(e.target.value)}})}),Object(K.jsx)(ye.a,{item:!0,xs:12,children:Object(K.jsx)(fe.a,{control:Object(K.jsx)(ve.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(K.jsx)(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x)?m.a.post("http://localhost:5000/signup",{name:c,password:b,email:x}).then((function(t){var a=t.data;console.log(a),a.error?(y(!1),S(!0)):(T(!0),P.current=setTimeout((function(){e.push("/login")}),3e3))})).catch((function(e){console.log(e)})):(S(!1),y(!0))},children:"Sign Up"}),Object(K.jsx)(ye.a,{container:!0,justify:"flex-end",children:Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsx)(l.b,{to:"/login",children:"Already have an account? Sign in"})})})]})}),Object(K.jsx)(ke.a,{mt:5})]})},Be=a(267),Te=a(247),Pe=a(264),Le=a(268),Fe=a(124),Ee=a(249),Re=a(248),We=a(95),Ae=(a(175),a(115)),Me=a.n(Ae),De=(a(176),a(116)),Ue=a.n(De),qe=a(117),Ge=a.n(qe),ze=a(118),He=a.n(ze),Ke=a(119),Je=a.n(Ke);Object(We.registerPlugin)(Me.a,Ue.a,Ge.a,He.a,Je.a);var Ve=Object(v.a)((function(e){return{root:{width:"70%",margin:"40px auto"},filesContainer:{maxWidth:"500px",margin:"auto"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{width:"30%",margin:"auto",marginBottom:e.spacing(2)},resetContainer:{padding:"6px 24px"},TextField:{margin:"10px 0px"},reviewRoot:{maxWidth:400,flexGrow:1,margin:"10px auto"},reviewImg:{height:255,display:"block",maxWidth:400,overflow:"hidden",width:"100%"},reviewBottom:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},finishStyle:{width:"fit-content",margin:"auto"}}}));var Ze=function(){var e=Ve(),t=Object(r.f)(),a=Object(n.useState)([]),i=Object(s.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(""),d=Object(s.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(0),p=Object(s.a)(u,2),h=p[0],x=p[1],O=["Select you image","Tag a Friend","Submit the post"],g=Object(n.useState)("idle"),f=Object(s.a)(g,2),v=f[0],y=f[1],k=Object(n.useRef)();Object(n.useEffect)((function(){return function(){clearTimeout(k.current)}}),[]);var N=function(t){switch(t){case 0:return Object(K.jsxs)("div",{className:e.filesContainer,children:[Object(K.jsx)(We.FilePond,{labelIdle:'Drag & Drop your picture or <span class="filepond--label-action">Browse</span>',files:c,allowMultiple:!1,onupdatefiles:o,imageResizeTargetWidth:450,imageResizeTargetHeight:450,acceptedFileTypes:["image/jpeg","image/png","images/gif"],required:!0}),Object(K.jsx)(te.a,{className:e.TextField,id:"outlined-search",label:"Caption",type:"text",variant:"outlined",fullWidth:"true",multiline:"true",value:j,onChange:function(e){return b(e.target.value)}})]});case 1:return"This functionality isn't available for the moment";case 2:return;default:return"Unknown step"}},C=function(){x((function(e){return e+1}))},S=function(){x((function(e){return e-1}))},I=function(){C(),clearTimeout(k.current),"idle"===v?(y("progress"),k.current=setTimeout((function(){t.push("/")}),4e3)):y("idle"),function(){var e=c[0].getFileEncodeBase64String(),t=c[0].fileType;m.a.post("http://localhost:5000/createpost",{title:j,body:j,photoEncode:e,photoType:t},Z).then((function(e){e.data.message&&y("success")}))}()};return Object(K.jsx)("div",{className:e.root,children:Object(K.jsxs)(Be.a,{component:Fe.a,elevation:3,activeStep:h,orientation:"vertical",children:[O.map((function(t,a){return Object(K.jsxs)(Te.a,{children:[Object(K.jsx)(Pe.a,{children:t}),Object(K.jsxs)(Le.a,{children:[Object(K.jsx)(w.a,{children:N(a)}),Object(K.jsx)("div",{className:e.actionsContainer,children:Object(K.jsxs)("div",{children:[Object(K.jsx)(Oe.a,{disabled:0===h,onClick:S,className:e.button,children:"Back"}),Object(K.jsx)(Oe.a,{disabled:0===c.length||""===j,variant:"contained",color:"primary",onClick:h===O.length-1?I:C,className:e.button,children:h===O.length-1?"Submit":"Next"})]})})]})]},t)})),h===O.length&&Object(K.jsx)(Fe.a,{square:!0,elevation:0,className:e.resetContainer,children:Object(K.jsx)("div",{className:e.finishStyle,children:"success"===v?Object(K.jsx)(we.a,{variant:"outlined",severity:"success",children:"Your post has been successfully submitted \u2014 check it out!"}):Object(K.jsx)(Re.a,{className:e.finishStyle,in:"progress"===v,style:{transitionDelay:"progress"===v?"100ms":"0ms"},unmountOnExit:!0,children:Object(K.jsx)(Ee.a,{})})})})]})})},Ye=a(3),$e=a(260),Qe=a(250);function Xe(e){var t=e.children,a=e.value,n=e.index,i=Object(Ye.a)(e,["children","value","index"]);return Object(K.jsx)("div",Object(d.a)(Object(d.a)({style:{width:430},role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(ke.a,{p:3,children:Object(K.jsx)(w.a,{children:t})})}))}function et(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var tt=Object(v.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"100%"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},fieldContainer:{display:"flex",marginBottom:"10px"},fieldContainerUnderInfo:{display:"flex",marginBottom:"10px",marginTop:"10px"},fieldLabel:{margin:"auto 0px",marginRight:"10px",width:"25%",fontWeight:"bold"},fieldInput:{"& .MuiOutlinedInput-input":{padding:"10px 14px"}},textInfo:{color:"rgba(var(--f52,142,142,142),1)",marginBottom:"10px"}}}));function at(){var e=tt(),t=i.a.useState(0),a=Object(s.a)(t,2),n=a[0],c=a[1];return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsxs)($e.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:e.tabs,children:[Object(K.jsx)(Qe.a,Object(d.a)({label:"Edit Profile"},et(0))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Change Password"},et(1))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Apps and Websites"},et(2))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Email ans SMS"},et(3))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Push Notifications"},et(4))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Privacy and Security"},et(5))),Object(K.jsx)(Qe.a,Object(d.a)({label:"Email From Insta-Clone"},et(6)))]}),Object(K.jsx)(Xe,{value:n,index:0,style:{width:"100%"},children:Object(K.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(K.jsxs)("div",{className:e.fieldContainer,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Name"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsx)(w.a,{variant:"caption",className:e.textInfo,children:"Help people discover your account by using the name you're known by: either your full name, nickname, or business name."}),Object(K.jsxs)("div",{className:e.fieldContainerUnderInfo,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Username"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsxs)("div",{className:e.fieldContainer,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Website"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsxs)("div",{className:e.fieldContainer,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Bio"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsx)(w.a,{variant:"caption",className:e.textInfo,children:"Personal Information"}),Object(K.jsx)(x.a,{}),Object(K.jsx)(w.a,{variant:"caption",className:e.textInfo,children:"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile."}),Object(K.jsxs)("div",{className:e.fieldContainerUnderInfo,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Email"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsxs)("div",{className:e.fieldContainer,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Phone Number"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(K.jsxs)("div",{className:e.fieldContainer,children:[Object(K.jsx)(w.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Gender"}),Object(K.jsx)(te.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]})]})}),Object(K.jsx)(Xe,{value:n,index:1,children:"Implementation Coming Soon"}),Object(K.jsx)(Xe,{value:n,index:2,children:"Implementation Coming Soon"}),Object(K.jsx)(Xe,{value:n,index:3,children:"Implementation Coming Soon"}),Object(K.jsx)(Xe,{value:n,index:4,children:"Implementation Coming Soon"}),Object(K.jsx)(Xe,{value:n,index:5,children:"Implementation Coming Soon"}),Object(K.jsx)(Xe,{value:n,index:6,children:"Implementation Coming Soon"})]})}var nt=a(126),it=a(181),ct=a(253),ot=a(254),st=a(255),rt=a(256),lt=a(269),dt=a(257),jt=a(251),bt=a(252),ut=a(121),mt=a.n(ut),pt=a(120),ht=a.n(pt),xt=Object(nt.a)((function(e){return{root:{maxWidth:935,margin:"auto",padding:"60px 20px 0"},dialogContainer:{"& .MuiDialog-paperWidthSm":{width:"80%",maxWidth:"900px"}},dialogTitle:{margin:"0px",padding:"16px"},avatar_container:{margin:"auto"},avatar:{width:152,height:152},editButton:{marginLeft:20},settings:{},posts:{width:"270px",height:"230px"},posts_img:{width:"100%",height:"100%"},icon:{color:"rgba(255, 255, 255, 0.54)"},closeButton:{position:"absolute",right:"8px",top:"8px",color:"#9e9e9e"}}})),Ot=Object(it.a)((function(e){return{root:{padding:"16px"}}}))(jt.a),gt=Object(it.a)((function(e){return{root:{margin:"0px",padding:"2px"}}}))(bt.a);function ft(e){var t=e.children,a=e.value,n=e.index,i=Object(Ye.a)(e,["children","value","index"]);return Object(K.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:a!==n},i),{},{children:a===n&&Object(K.jsx)(ke.a,{p:3,children:t})}))}var vt=function(){var e=xt(),t=Object(n.useContext)(Pt).state,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],r=c[1],d=Object(n.useState)([]),j=Object(s.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)("Posts"),h=Object(s.a)(p,2),x=h[0],O=h[1];Object(n.useEffect)((function(){m.a.get("http://localhost:5000/mypost",Z).then((function(e){r(e.data.posts)})),m.a.get("http://localhost:5000/bookmarks",Z).then((function(e){u(e.data.bookmark)}))}),[]);var g=Object(n.useState)(!1),v=Object(s.a)(g,2),y=v[0],k=v[1],C=function(){k(!1)};return Object(K.jsxs)(i.a.Fragment,{children:[Object(K.jsx)(ge.a,{}),Object(K.jsxs)(ke.a,{component:"main",className:e.root,children:[Object(K.jsx)(ke.a,{mb:"44px",children:Object(K.jsxs)(ye.a,{container:!0,children:[Object(K.jsx)(ye.a,{item:!0,xs:4,className:e.avatar_container,children:Object(K.jsx)(f.a,{className:e.avatar,style:{margin:"auto"},src:"https://cc-media-foxit.fichub.com/image/fox-it-mondofox/e8c0f288-781d-4d0b-98ad-fd169782b53b/scene-sottacqua-per-i-sequel-di-avatar-maxw-654.jpg"})}),Object(K.jsxs)(ye.a,{item:!0,xs:8,children:[Object(K.jsx)(ke.a,{clone:!0,mb:"20px",children:Object(K.jsxs)(ye.a,{container:!0,alignItems:"center",children:[Object(K.jsx)(w.a,{variant:"h5",children:t?t.Name:"IsLoading ..."}),Object(K.jsx)(Oe.a,{className:e.editButton,variant:"outlined",onClick:function(){k(!0)},children:"Edit Profile"}),Object(K.jsx)("div",{className:e.settings,children:Object(K.jsx)(N.a,{component:l.b,to:"#",children:Object(K.jsx)(ct.a,{children:"settings"})})})]})}),Object(K.jsx)(ke.a,{mb:"20px",children:Object(K.jsxs)(ye.a,{container:!0,spacing:4,children:[Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:o.length})," posts"]})}),Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:t?t.Followers.length:"IsLoading ..."})," ","followers"]})}),Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:t?t.Following.length:"IsLoading ..."})," ","following"]})})]})}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"Siriwat Kunaporn"}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"Bangkok Christian College"}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"CU intania 96."})]})]})}),Object(K.jsxs)($e.a,{value:x,centered:!0,onChange:function(e,t){O(t)},TabIndicatorProps:{style:{transform:"translateY(-70px)",backgroundColor:"#262626"}},children:[Object(K.jsx)(Qe.a,{label:"Posts",value:"Posts",icon:Object(K.jsx)(ct.a,{children:"grid_on_outlined"})}),Object(K.jsx)(Qe.a,{label:"IGTV",value:"IGTV",icon:Object(K.jsx)(ct.a,{children:"live_tv"}),disabled:!0}),Object(K.jsx)(Qe.a,{label:"Saved",value:"Saved",icon:Object(K.jsx)(ct.a,{children:"bookmark_border_outlined"})}),Object(K.jsx)(Qe.a,{label:"Tagged",value:"Tagged",icon:Object(K.jsx)(ct.a,{children:"local_offer_outlined"}),disabled:!0})]}),Object(K.jsx)(ft,{value:x,index:"Posts",children:Object(K.jsx)(ye.a,{container:!0,spacing:2,children:o.map((function(t){return Object(K.jsx)(ye.a,{item:!0,xs:4,className:e.posts,children:Object(K.jsx)("img",{className:e.posts_img,alt:"post image",src:"data:".concat(t.photoType,";base64,").concat(t.photo)})},t.id)}))})}),Object(K.jsx)(ft,{value:x,index:"Saved",children:Object(K.jsx)(ot.a,{cellHeight:230,cols:3,spacing:15,children:b.map((function(t){return Object(K.jsxs)(st.a,{children:[Object(K.jsx)("img",{src:"data:".concat(t.PhotoType,";base64,").concat(t.Photo),alt:t.Title}),Object(K.jsx)(rt.a,{title:t.Title,subtitle:Object(K.jsxs)("span",{children:["By : ",t.PostedBy.Name]}),actionIcon:Object(K.jsx)(N.a,{"aria-label":"info about",className:e.icon,children:Object(K.jsx)(ht.a,{})})})]},t._id)}))})})]}),Object(K.jsxs)(lt.a,{onClose:C,open:y,className:e.dialogContainer,children:[Object(K.jsxs)(dt.a,{disableTypography:!0,className:e.dialogTitle,children:[Object(K.jsx)(w.a,{variant:"h6",children:"Profile settings"}),Object(K.jsx)(N.a,{"aria-label":"close",className:e.closeButton,onClick:C,children:Object(K.jsx)(mt.a,{})})]}),Object(K.jsx)(Ot,{dividers:!0,children:Object(K.jsx)(at,{})}),Object(K.jsx)(gt,{children:Object(K.jsx)(Oe.a,{autoFocus:!0,onClick:C,color:"primary",children:"Save changes"})})]})]})},yt=a(21),kt=Object(nt.a)((function(e){return{root:{maxWidth:935,margin:"auto",padding:"60px 20px 0"},avatar_container:{margin:"auto"},avatar:{width:152,height:152},editButton:{marginLeft:20,backgroundColor:"paleturquoise"},settings:{}}}));function Nt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ye.a)(e,["children","value","index"]);return Object(K.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:a!==n},i),{},{children:a===n&&Object(K.jsx)(ke.a,{p:3,children:t})}))}var wt=function(){var e=kt(),t=Object(n.useState)("Posts"),a=Object(s.a)(t,2),c=a[0],o=a[1],j=Object(n.useContext)(Pt),b=j.state,u=j.dispatch,p=Object(r.g)().userid,h=Object(n.useState)(null),x=Object(s.a)(h,2),O=x[0],g=x[1],v=Object(n.useState)(b?!b.Following.includes(p):null),y=Object(s.a)(v,2),k=y[0],C=y[1];Object(n.useEffect)((function(){m.a.get("http://localhost:5000/user/".concat(p),Z).then((function(e){g(e.data)}))}),[]);return Object(K.jsxs)(i.a.Fragment,{children:[Object(K.jsx)(ge.a,{}),O?Object(K.jsxs)(ke.a,{component:"main",className:e.root,children:[Object(K.jsx)(ke.a,{mb:"44px",children:Object(K.jsxs)(ye.a,{container:!0,children:[Object(K.jsx)(ye.a,{item:!0,xs:4,className:e.avatar_container,children:Object(K.jsx)(f.a,{className:e.avatar,style:{margin:"auto"},src:"https://cc-media-foxit.fichub.com/image/fox-it-mondofox/e8c0f288-781d-4d0b-98ad-fd169782b53b/scene-sottacqua-per-i-sequel-di-avatar-maxw-654.jpg"})}),Object(K.jsxs)(ye.a,{item:!0,xs:8,children:[Object(K.jsx)(ke.a,{clone:!0,mb:"20px",children:Object(K.jsxs)(ye.a,{container:!0,alignItems:"center",children:[Object(K.jsx)(w.a,{variant:"h5",children:O.user?O.user.Name:"Is Loading ..."}),k?Object(K.jsx)(Oe.a,{className:e.editButton,variant:"outlined",onClick:function(){m.a.put("http://localhost:5000/follow",{followId:p},Z).then((function(e){u({type:"UPDATE",payload:{Followers:e.data.Followers,Following:e.data.Following}}),localStorage.setItem("user",JSON.stringify(e.data)),g((function(t){return Object(d.a)(Object(d.a)({},t),{},{user:Object(d.a)(Object(d.a)({},t.user),{},{Followers:[].concat(Object(yt.a)(t.user.Followers),[e.data._id])})})})),C(!1)}))},children:"Follow"}):Object(K.jsx)(Oe.a,{className:e.editButton,variant:"outlined",onClick:function(){m.a.put("http://localhost:5000/unfollow",{unfollowId:p},Z).then((function(e){u({type:"UPDATE",payload:{Followers:e.data.Followers,Following:e.data.Following}}),localStorage.setItem("user",JSON.stringify(e.data)),g((function(t){var a=t.user.Followers.filter((function(t){return t!==e.data._id}));return Object(d.a)(Object(d.a)({},t),{},{user:Object(d.a)(Object(d.a)({},t.user),{},{Followers:a})})})),C(!0)}))},children:"UnFollow"}),Object(K.jsx)("div",{className:e.settings,children:Object(K.jsx)(N.a,{component:l.b,to:"#",children:Object(K.jsx)(ct.a,{children:"settings"})})})]})}),Object(K.jsx)(ke.a,{mb:"20px",children:Object(K.jsxs)(ye.a,{container:!0,spacing:4,children:[Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:O.posts?O.posts.length:"IsLoading..."})," ","posts"]})}),Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:O.user?O.user.Followers.length:"IsLoading..."})," ","followers"]})}),Object(K.jsx)(ye.a,{item:!0,children:Object(K.jsxs)(w.a,{variant:"subtitle1",children:[Object(K.jsx)("b",{children:O.user?O.user.Following.length:"IsLoading..."})," ","following"]})})]})}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"Siriwat Kunaporn"}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"Bangkok Christian College"}),Object(K.jsx)(w.a,{variant:"subtitle1",children:"CU intania 96."})]})]})}),Object(K.jsxs)($e.a,{value:c,centered:!0,onChange:function(e,t){o(t)},TabIndicatorProps:{style:{transform:"translateY(-70px)",backgroundColor:"#262626"}},children:[Object(K.jsx)(Qe.a,{label:"Posts",value:"Posts",icon:Object(K.jsx)(ct.a,{children:"grid_on_outlined"})}),Object(K.jsx)(Qe.a,{label:"IGTV",value:"IGTV",icon:Object(K.jsx)(ct.a,{children:"live_tv"}),disabled:!0}),Object(K.jsx)(Qe.a,{label:"Tagged",value:"Tagged",icon:Object(K.jsx)(ct.a,{children:"local_offer_outlined"}),disabled:!0})]}),Object(K.jsx)(Nt,{value:c,index:"Posts",children:Object(K.jsxs)(ye.a,{container:!0,spacing:2,children:[O.posts?O.posts.map((function(e){return Object(K.jsx)(ye.a,{item:!0,xs:4,children:Object(K.jsx)("img",{alt:"post",style:{width:"100%",height:"100%"},src:"data:".concat(e.PhotoType,";base64,").concat(e.Photo)})},e.id)})):"Is Loading ...",Object(K.jsx)(ye.a,{item:!0,xs:4,className:e.post_box,children:Object(K.jsx)("img",{alt:"post",style:{width:"100%"},src:"https://via.placeholder.com/500/f5f5f5"})}),Object(K.jsx)(ye.a,{item:!0,xs:4,className:e.post_box,children:Object(K.jsx)("img",{alt:"post",style:{width:"100%"},src:"https://via.placeholder.com/500/f5f5f5"})})]})})]}):"Is Loading ..."]})},Ct=Object(v.a)((function(e){return{root:{maxWidth:500,margin:"20px auto","& .MuiTextField-root":{width:"100%"},"& .MuiOutlinedInput-multiline":{paddingTop:"8px",paddingBottom:"8px",marginTop:"5px",marginLeft:"5px",marginRight:"5px"},"& .MuiCardContent-root:last-child":{paddingBottom:"10px"},"& .MuiDivider-middle":{marginBottom:"4px"},"& .MuiListItem-root":{padding:"0px 16px"},"& .MuiCardContent-root":{paddingTop:"0px",paddingBottom:"5px"},"& .MuiIconButton-root:focus":{backgroundColor:"rgba(0, 0, 0, 0)"}},header:{padding:"10px"},media:{paddingTop:"56.25%",height:"max-content"},likeBar:{height:"25px",paddingTop:"0px",marginTop:"8px",marginLeft:"2px",paddingLeft:"0px",paddingBottom:"4px"},comments:{display:"flex",paddingTop:"0px",paddingLeft:"12px",paddingRight:"0px"},comment_item_see_more:{width:"35%",cursor:"pointer"},comments_icon_see_more:{height:"17px",width:"17px",paddingTop:"4px",paddingBottom:"3px"},comments_icon:{height:"30px",paddingLeft:"0px",paddingTop:"13px",paddingRight:"8px",paddingBottom:"0px"},inline:{display:"inline",fontWeight:"600"},avatar:{height:"40px"},links:{textDecoration:"none"}}})),St=function(){var e=Ct(),t=Object(n.useContext)(Pt).state,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],r=c[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),b=j[0],u=j[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),y=v[0],k=v[1];Object(n.useEffect)((function(){m.a.get("http://localhost:5000/subspost",Z).then((function(e){console.log(e.data.posts),r(e.data.posts)}))}),[]);return o.map((function(a){return Object(K.jsx)("div",{className:"home",children:Object(K.jsxs)(Y.a,{className:e.root,children:[Object(K.jsx)($.a,{className:e.header,avatar:Object(K.jsx)(f.a,{children:Object(K.jsx)("img",{className:e.avatar,alt:"",src:"data:".concat(a.PhotoType,";base64,").concat(a.Photo)})}),title:Object(K.jsx)(l.b,{className:e.links,to:a.PostedBy._id!==t._id?"/profile/".concat(a.PostedBy._id):"/profile",children:a.PostedBy.Name}),subheader:"September 14, 2016"}),Object(K.jsx)(Q.a,{className:e.media,image:"data:".concat(a.PhotoType,";base64,").concat(a.Photo),title:"Paella dish"}),Object(K.jsxs)(ee.a,{className:e.likeBar,disableSpacing:!0,children:[a.Likes.includes(t._id)?Object(K.jsx)(N.a,{"aria-label":"Like",color:"secondary",onClick:function(){var e;e=a._id,m.a.put("http://localhost:5000/Unlike",{postId:e},Z).then((function(e){var t=o.map((function(t){return e.data._id===t._id?e.data:t}));r(t)})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(ne.a,{})}):Object(K.jsx)(N.a,{"aria-label":"Like",onClick:function(){var e;e=a._id,m.a.put("http://localhost:5000/like",{postId:e},Z).then((function(e){var t=o.map((function(t){return e.data._id===t._id?e.data:t}));r(t)})).catch((function(e){return console.log(e)}))},children:Object(K.jsx)(ce.a,{})}),Object(K.jsx)(N.a,{"aria-label":"comments",children:Object(K.jsx)(se.a,{})})]}),Object(K.jsxs)(X.a,{children:[Object(K.jsxs)(w.a,{variant:"subtitle2",display:"block",gutterBottom:!0,children:[a.Likes.length," Likes"]}),Object(K.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:a.Body})]}),Object(K.jsx)(x.a,{variant:"middle"}),Object(K.jsxs)(p.a,{children:[a.Comments.map((function(a){return Object(K.jsx)(h.a,{className:e.comment_item,alignItems:"flex-start",children:Object(K.jsx)(O.a,{secondary:Object(K.jsxs)(i.a.Fragment,{children:[Object(K.jsx)(w.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:Object(K.jsx)(l.b,{className:e.links,to:a.PostedBy._id!==t._id?"/profile/".concat(a.PostedBy._id):"/profile",children:a.PostedBy.Name})})," \u2014 ",a.Text]})})},a._id)})),0===a.Comments.length?Object(K.jsx)(h.a,{alignItems:"flex-start",style:{left:"38%"},children:Object(K.jsx)(w.a,{variant:"caption",display:"block",gutterBottom:!0,children:"No Comments yet"})}):null,a.Comments.length>3&&0!==a.Comments.length?Object(K.jsxs)(h.a,{alignItems:"flex-start",className:e.comment_item_see_more,children:[Object(K.jsxs)(w.a,{variant:"caption",display:"block",gutterBottom:!0,children:["See all ",a.Comments.length," comments"]}),Object(K.jsx)(je.a,{className:e.comments_icon_see_more})]}):null]}),Object(K.jsx)(x.a,{variant:"middle"}),Object(K.jsxs)(X.a,{className:e.comments,children:[Object(K.jsx)(f.a,{children:Object(K.jsx)("img",{className:e.avatar,alt:"",src:"https://images.unsplash.com/photo-1537815749002-de6a533c64db?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"})}),Object(K.jsx)(te.a,{multiline:!0,rows:1,placeholder:"Add your comment...",variant:"outlined",value:y,onChange:function(e){e.preventDefault(),k(e.target.value),u(!0),""===e.target.value&&u(!1)}}),Object(K.jsx)(N.a,{"aria-label":"add to favorites",className:e.comments_icon,disabled:!b,onClick:function(){return e=y,t=a._id,k(""),void m.a.put("http://localhost:5000/comment",{text:e,postId:t},Z).then((function(e){var t=o.map((function(t){return e.data._id===t._id?e.data:t}));r(t)})).catch((function(e){return console.log(e)}));var e,t},children:Object(K.jsx)(le.a,{})})]})]})},a._id)}))},It=Object(v.a)((function(e){return{root:{height:"-webkit-fill-available"},image:{backgroundSize:"cover",backgroundColor:"#fafafa",backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundPosition:"center"},container:{margin:" auto 0px"},Logo:{fontFamily:"Grand Hotel, cursive",margin:"40px 0px"},paper:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_t=function(){var e=Object(r.f)(),t=It(),a=Object(n.useState)(""),i=Object(s.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(!1),d=Object(s.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),h=p[0],x=p[1],O=Object(n.useState)(!1),g=Object(s.a)(O,2),f=g[0],v=g[1],y=Object(n.useRef)();Object(n.useEffect)((function(){return function(){clearTimeout(y.current)}}),[]);return Object(K.jsxs)(ye.a,{container:!0,className:t.root,children:[Object(K.jsx)(ye.a,{className:t.image,item:!0,sm:4,md:6}),Object(K.jsx)(ye.a,{item:!0,xs:12,sm:8,md:6,className:t.container,children:Object(K.jsxs)(Ne.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"64px"},children:[Object(K.jsx)(ge.a,{}),Object(K.jsxs)("div",{className:t.paper,children:[Object(K.jsx)(w.a,{className:t.Logo,variant:"h2",gutterBottom:!0,style:{fontFamily:"Grand Hotel, cursive "},children:"Kalyan Somalaraju"}),j?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,h?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"No User exists with that email \u2014 check it Again !"}):null,f?Object(K.jsx)(we.a,{variant:"outlined",severity:"success",children:"The reset password link has been sent \u2014 check out your email inbox !"}):null,Object(K.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(K.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoFocus:!0,value:c,onChange:function(e){o(e.target.value)}}),Object(K.jsx)(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:""===c,onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)?m.a.post("http://localhost:5000/reset-pwd",{email:c}).then((function(t){var a=t.data;console.log(a),a.error?(b(!1),x(!0)):(b(!1),x(!1),v(!0),y.current=setTimeout((function(){e.push("/login")}),3e3))})).catch((function(e){console.log(e)})):(x(!1),b(!0))},children:"Reset your Password"})]})]}),Object(K.jsx)(ke.a,{mt:8})]})})]})},Bt=Object(v.a)((function(e){return{root:{height:"-webkit-fill-available"},image:{backgroundSize:"cover",backgroundColor:"#fafafa",backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundPosition:"center"},container:{margin:" auto 0px"},Logo:{fontFamily:"Grand Hotel, cursive",margin:"40px 0px"},paper:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Tt=function(){var e=Bt(),t=Object(r.f)(),a=Object(r.g)().token,i=Object(n.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(""),j=Object(s.a)(d,2),b=j[0],u=j[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),x=h[0],O=h[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),v=f[0],y=f[1],k=Object(n.useRef)();Object(n.useEffect)((function(){return function(){clearTimeout(k.current)}}),[]);return Object(K.jsxs)(ye.a,{container:!0,className:e.root,children:[Object(K.jsx)(ye.a,{className:e.image,item:!0,sm:4,md:6}),Object(K.jsx)(ye.a,{item:!0,xs:12,sm:8,md:6,className:e.container,children:Object(K.jsxs)(Ne.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"64px"},children:[Object(K.jsx)(ge.a,{}),Object(K.jsxs)("div",{className:e.paper,children:[Object(K.jsx)(w.a,{className:e.Logo,variant:"h2",gutterBottom:!0,style:{fontFamily:"Grand Hotel, cursive "},children:"Kalyan Somalaraju"}),""!==o&&""!==b&&o!==b?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Confirm password doesn't match the password \u2014 check it out !"}):null,x?Object(K.jsx)(we.a,{variant:"outlined",severity:"error",children:"Session expired ! Try Again with a new Request \u2014 check it Again !"}):null,v?Object(K.jsx)(we.a,{variant:"outlined",severity:"success",children:"Password Updated successfully \u2014 check it out !"}):null,Object(K.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(K.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:o,onChange:function(e){return l(e.target.value)}}),Object(K.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm password",label:"Confirm Password",type:"password",value:b,onChange:function(e){return u(e.target.value)}}),Object(K.jsx)(Oe.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:""===o||""===b,onClick:function(){m.a.post("http://localhost:5000/new-pwd",{password:o,token:a}).then((function(e){e.data.error?(y(!1),O(!0)):(O(!1),y(!0),k.current=setTimeout((function(){t.push("/login")}),3e3))})).catch((function(e){console.log(e)}))},children:"Submit The New Password"})]})]}),Object(K.jsx)(ke.a,{mt:8})]})})]})},Pt=(a(177),Object(n.createContext)()),Lt=function(){var e=Object(r.f)(),t=Object(n.useContext)(Pt).dispatch;return Object(n.useEffect)((function(){var a=JSON.parse(localStorage.getItem("user"));a?t({type:"USER",payload:a}):e.location.pathname.startsWith("/reset")||e.push("/login")}),[t,e]),Object(K.jsxs)(r.c,{children:[Object(K.jsxs)(r.a,{exact:!0,path:"/",children:[Object(K.jsx)(V,{nav:"home"}),Object(K.jsx)(St,{})]}),Object(K.jsxs)(r.a,{path:"/explore",children:[Object(K.jsx)(V,{nav:"explore"}),Object(K.jsx)(xe,{})]}),Object(K.jsxs)(r.a,{path:"/create",children:[Object(K.jsx)(V,{nav:"add post"}),Object(K.jsx)(Ze,{})]}),Object(K.jsxs)(r.a,{exact:!0,path:"/profile",children:[Object(K.jsx)(V,{nav:"profile"}),Object(K.jsx)(vt,{})]}),Object(K.jsxs)(r.a,{path:"/profile/:userid",children:[Object(K.jsx)(V,{}),Object(K.jsx)(wt,{})]}),Object(K.jsx)(r.a,{path:"/login",children:Object(K.jsx)(Se,{})}),Object(K.jsx)(r.a,{path:"/signup",children:Object(K.jsx)(_e,{})}),Object(K.jsx)(r.a,{exact:!0,path:"/reset",children:Object(K.jsx)(_t,{})}),Object(K.jsx)(r.a,{path:"/reset/:token",children:Object(K.jsx)(Tt,{})})]})};var Ft=function(){var e=Object(n.useReducer)(j,null),t=Object(s.a)(e,2),a=t[0],i=t[1];return Object(K.jsx)(Pt.Provider,{value:{state:a,dispatch:i},children:Object(K.jsx)(l.a,{children:Object(K.jsx)(Lt,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(Ft,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.52057961.chunk.js.map