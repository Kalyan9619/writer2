{"ast":null,"code":"import _slicedToArray from\"/home/kalyan/Downloads/Instagram-Web-App-MERN-Stack-Clone-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n *\n * @author Anass Ferrak aka \" ThedevilA \" <an.ferrak@gmail.com>\n * GitHub repo: https://github.com/ThedevilA/Instagram-Web-App-MERN-Stack-Clone\n *\n */import React,{useEffect,createContext,useReducer,useContext}from\"react\";import{BrowserRouter,Route,Switch,useHistory}from\"react-router-dom\";import{reducer,initialState}from\"./reducers/userReducer\";import NavBar from\"./components/Navbar\";import Home from\"./screens/Home\";import Login from\"./screens/Login\";import Signup from\"./screens/Signup\";import CreatePost from\"./screens/CreatePost.js\";import Profile from\"./screens/Profile\";import UserProfile from\"./screens/UserProfile\";import SubscribePost from\"./screens/SubscribePosts\";import Reset from\"./screens/ResetPassword.js\";import NewPass from\"./screens/NewPassword.js\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext();var Routing=function Routing(){var history=useHistory();var _useContext=useContext(UserContext),dispatch=_useContext.dispatch;useEffect(function(){var user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});}else{if(!history.location.pathname.startsWith(\"/reset\"))history.push(\"/login\");}},[]);return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsx(NavBar,{nav:\"home\"}),/*#__PURE__*/_jsx(SubscribePost,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/explore\",children:[/*#__PURE__*/_jsx(NavBar,{nav:\"explore\"}),/*#__PURE__*/_jsx(Home,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/create\",children:[/*#__PURE__*/_jsx(NavBar,{nav:\"add post\"}),/*#__PURE__*/_jsx(CreatePost,{})]}),/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/profile\",children:[/*#__PURE__*/_jsx(NavBar,{nav:\"profile\"}),/*#__PURE__*/_jsx(Profile,{})]}),/*#__PURE__*/_jsxs(Route,{path:\"/profile/:userid\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(UserProfile,{})]}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/reset\",children:/*#__PURE__*/_jsx(Reset,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset/:token\",children:/*#__PURE__*/_jsx(NewPass,{})})]});};function App(){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(UserContext.Provider,{value:{state:state,dispatch:dispatch},children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Routing,{})})});}export default App;","map":{"version":3,"sources":["/home/kalyan/Downloads/Instagram-Web-App-MERN-Stack-Clone-master/client/src/App.js"],"names":["React","useEffect","createContext","useReducer","useContext","BrowserRouter","Route","Switch","useHistory","reducer","initialState","NavBar","Home","Login","Signup","CreatePost","Profile","UserProfile","SubscribePost","Reset","NewPass","UserContext","Routing","history","dispatch","user","JSON","parse","localStorage","getItem","type","payload","location","pathname","startsWith","push","App","state"],"mappings":"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","sourcesContent":["/**\n *\n * @author Anass Ferrak aka \" ThedevilA \" <an.ferrak@gmail.com>\n * GitHub repo: https://github.com/ThedevilA/Instagram-Web-App-MERN-Stack-Clone\n *\n */\n\nimport React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport { reducer, initialState } from \"./reducers/userReducer\";\nimport NavBar from \"./components/Navbar\";\nimport Home from \"./screens/Home\";\nimport Login from \"./screens/Login\";\nimport Signup from \"./screens/Signup\";\nimport CreatePost from \"./screens/CreatePost.js\";\nimport Profile from \"./screens/Profile\";\nimport UserProfile from \"./screens/UserProfile\";\nimport SubscribePost from \"./screens/SubscribePosts\";\nimport Reset from \"./screens/ResetPassword.js\";\nimport NewPass from \"./screens/NewPassword.js\";\nimport \"./App.css\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n\tconst history = useHistory();\n\tconst { dispatch } = useContext(UserContext);\n\tuseEffect(() => {\n\t\tconst user = JSON.parse(localStorage.getItem(\"user\"));\n\t\tif (user) {\n\t\t\tdispatch({ type: \"USER\", payload: user });\n\t\t} else {\n\t\t\tif (!history.location.pathname.startsWith(\"/reset\")) history.push(\"/login\");\n\t\t}\n\t}, []);\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\">\n\t\t\t\t<NavBar nav=\"home\" />\n\t\t\t\t<SubscribePost />\n\t\t\t</Route>\n\t\t\t<Route path=\"/explore\">\n\t\t\t\t<NavBar nav=\"explore\" />\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t<Route path=\"/create\">\n\t\t\t\t<NavBar nav=\"add post\" />\n\t\t\t\t<CreatePost />\n\t\t\t</Route>\n\t\t\t<Route exact path=\"/profile\">\n\t\t\t\t<NavBar nav=\"profile\" />\n\t\t\t\t<Profile />\n\t\t\t</Route>\n\t\t\t<Route path=\"/profile/:userid\">\n\t\t\t\t<NavBar />\n\t\t\t\t<UserProfile />\n\t\t\t</Route>\n\t\t\t<Route path=\"/login\">\n\t\t\t\t<Login />\n\t\t\t</Route>\n\t\t\t<Route path=\"/signup\">\n\t\t\t\t<Signup />\n\t\t\t</Route>\n\t\t\t<Route exact path=\"/reset\">\n\t\t\t\t<Reset />\n\t\t\t</Route>\n\t\t\t<Route path=\"/reset/:token\">\n\t\t\t\t<NewPass />\n\t\t\t</Route>\n\t\t</Switch>\n\t);\n};\n\nfunction App() {\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\treturn (\n\t\t<UserContext.Provider value={{ state, dispatch }}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Routing />\n\t\t\t</BrowserRouter>\n\t\t</UserContext.Provider>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}